<title>Story Page</title>

<style>
    @media only screen and (max-width: 700px) {

        #container_1 {
            padding-left: 5px;
            padding-right: 20px;
        }
    }

    @media only screen and (min-width: 701px) {

        #container_1 {
            padding-left: 250px;
            padding-right: 250px;
        }
    }
</style>


<div class="container " id="container_1" style="padding-bottom: 100px;padding-top: 100px; ">
    <div class="row">
        <div class="col-md-12">
            <h3 class="display-6" style="padding-top: 15px; padding-bottom: 10px; padding-left: 50px;">Friends
                Events
            </h3>
            <button>
                <a href="/story" class="text-decoration-none"><i class="fas fa-users  text-success"></i>
                    Public Story </a>
            </button>
            <button>
                <a href="/stories" class="text-decoration-none">
                    <i class="fa fa-dashboard text-success"></i> Stories
                    dashboard
                </a>
            </button>


        </div>

        <div class="col-md-12" style="padding-left: 20px;">
            <form id="search-site" action='/story/search/:query' method='get' class="mb-4">
                <div class="input-group" style="padding-top: 10px;">
                    <span class="input-group-text"><i class="fas fa-search fa-lg"></i></span>
                    <div class="form-floating">
                        <input id="search" type="search" name='query' class="form-control"
                            placeholder="Search by title">
                        <label for="search">Search</label>
                    </div>
                    <button type="submit" class="btn btn-primary">Search</button>
                </div>
            </form>
        </div>
        <div class="col-md-6 text-center" style="padding-top: 12px; align-items:center;">
            <a href="/story/add" class="btn btn-primary">Post Story</a>
        </div>
    </div>

    <div class="row" style="padding: 40px; ">
        {{#each story as |row index| }}
        <div class="col-md-12" style="min-height: 200px; min-width:270px;">
            <div class="card mb-4">
                <div class="card-img-top">
                    <a href="/story/edit/{{row._id}}" class="btn p-2 btn-float  text-primary">
                        <i class="fas fa-edit fa-lg mx-1"></i>
                    </a>
                </div>

                <div class="card-body ">
                    <h6 class="card-title text-center">{{title}}</h6>
                    <h6 class="card-title">
                        <p>{{stripTags (truncate body 250)}}</p>
                    </h6>

                    <div class="chip gap-0  text-center">
                        <img style="height: 35px; weight: 35px;" class="chip-img rounded" src="{{user.image}}"
                            alt="{{user.image}}">

                        <a style="text-decoration: none; width:100px; height:15px;  background-color:#f2ebeb; border-radius:20px; padding-top:6px; padding-bottom:8px; padding-left:20px; padding-right:20px;"
                            href="mailto: {{user.email}}" class="chip-link">{{user.firstName}}</a>
                    </div>
                </div>

                <div class="card ">
                    {{#if imageBase64}}
                    <img src='data:{{contentType}};base64,{{imageBase64}}' width="auto" height="400"
                        class="story image">
                    {{else}}
                    <img src="images/no_image.png" width="auto" height="230" class="img-thumbnail">
                    {{/if}}
                </div>

                <div class="card-footer text-center">
                    <a href="/story/{{row._id}}" class="btn btn-secondary">Read More</a>
                </div>
            </div>
        </div>

        {{else}}
        <p class="col-12 text-center">No Event posted yet .</p>
        <p class="col-12 text-center">Be the first to post an Event !</p>
        {{/each}}
    </div>
</div>
</div>





<!-- Bootstrap and Font Awesome JS dependencies -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-xBqEnFk1TC+2s9wAeUnp76cCqA5IcMXYgRVNkd3LQ6ZXfJt3S2x82CUq3uSWq8J6"
    crossorigin="anonymous"></script>